<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Yêu Cầu 3</title>
</head>
<body>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let ten = false, memory = "";
    countafter = 0;
    do {
        let name = prompt("Ho va Ten: ").trim();
        for (let i = 0; i < name.length; i++) {
            if (name[i] == " " && name[i + 1] == " ") {
                continue;
            } else {
                if (i == 0) {
                    memory += name[i].toUpperCase()
                } else if (name[i - 1] == " " && name[i] != " ") {
                    memory += name[i].toUpperCase();
                } else {
                    memory += name[i].toLowerCase();
                }
            }
        }
        if (memory != "") {
            ten = false;
        }
        if (ten == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (ten);
    let id, cmnd;
    do {
        cmnd = true;
        id = prompt("So CMND(gom 9 so nguyen duong): ");
        if (id.trim().length == 9) {
            if (isNaN(id.trim()) == false) {
                if (Number.isInteger(parseInt(id.trim())) == true) {
                    if (Number(id.trim()) >= 100000000 && Number(id.trim()) <= 999999999) {
                        cmnd = false;
                    }
                }
            }
        }
        if (cmnd == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (cmnd);
    let birthday, sinhnhat, day, month, year;
    do {
        sinhnhat = true;
        birthday = prompt("Ngay thang nam sinh (dd/mm/yyyy): ");
        day = birthday.substring(0, 2);
        month = birthday.substring(3, 5);
        year = birthday.substring(6, 10);
        if (birthday.length == 10) {
            if ((birthday.substring(2, 3) == "/") && (birthday.substring(5, 6) == "/")) {
                if (isNaN(day) == false && isNaN(month) == false && isNaN(year) == false) {
                    if (Number.isInteger(parseInt(day)) && Number.isInteger(parseInt(month)) && Number.isInteger(parseInt(year))) {
                        if ((day > 0 && day < 32) && (month > 0 && month < 13) && (year > 1000 && year < 2021)) {
                            sinhnhat = false;
                        }
                    }
                }
            }
        }
        if (sinhnhat == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (sinhnhat)
    let thu = true, email;
    do {
        email = prompt("Email(abc@abc.abc): ");
        let testmail = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-]))+\.([a-zA-Z0-9]{2,4})+$/;
        if (testmail.test(email)) {
            thu = false;
        }
        if (thu == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (thu);
    let diachi = true, temp = "";
    do {
        let address = prompt("Dia chi: ");
        for (let i = 0; i < address.length; i++) {
            if (address[i] == " " && address[i + 1] == " ") {
                continue;
            } else {
                if (i == 0) {
                    temp += address[i].toUpperCase()
                } else if (address[i - 1] == " " && address[i] != " ") {
                    temp += address[i].toUpperCase();
                } else {
                    temp += address[i].toLowerCase();
                }
            }
        }
        if (temp != "") {
            diachi = false;
        }
        if (diachi == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    }
    while (diachi)
    let loaikhachhang = true, kindCustomer;
    do {
        kindCustomer = prompt("Loai khach hang (Diamond, Platinum, Gold, Silver, Member): ");
        if (kindCustomer.trim() === "Diamond" || kindCustomer.trim() === "Platinum" || kindCustomer.trim() === "Gold" || kindCustomer.trim() === "Silver" || kindCustomer.trim() === "Member") {
            loaikhachhang = false;
        }
        if (loaikhachhang == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (loaikhachhang);
    let giamgia = true, discount;
    do {
        discount = prompt("Giam gia(vd:1,5): ");
        if (isNaN(discount.trim()) == false) {
            if (Number.isInteger(parseInt(discount.trim())) == true) {
                if (discount.trim() >= 0) {
                    giamgia = false;
                }
            }
        }
        if (giamgia == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (giamgia);
    let numpeople = true, soluongdikem;
    do {
        soluongdikem = prompt("So luong nguoi di kem: ");
        if (isNaN(soluongdikem.trim()) == false) {
            if (Number.isInteger(parseInt(soluongdikem.trim())) == true) {
                if (soluongdikem.trim() >= 0) {
                    numpeople = false;
                }
            }
        }
        if (numpeople == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (numpeople);
    let ngaythue = true, rentDay;
    do {
        rentDay = prompt("So ngay thue: ");
        if (isNaN(rentDay.trim()) == false) {
            if (Number.isInteger(parseInt(rentDay.trim())) == true) {
                if (rentDay.trim() > 0) {
                    ngaythue = false;
                }
            }
        }
        if (ngaythue == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (ngaythue);
    let loaidichvu = true, kindService;
    do {
        kindService = prompt("Loai dich vu (Villa, House, Room): ");
        if (kindService.trim() === "Villa" || kindService.trim() === "House" || kindService.trim() === "Room") {
            loaidichvu = false;
        }
        if (loaidichvu == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (loaidichvu);
    let loaiphongthue = true, kindRoom;
    do {
        kindRoom = prompt("Loai phong thue (Vip, Business,  Normal): ");
        if (kindRoom.trim() === "Vip" || kindRoom.trim() === "Business" || kindRoom.trim() === "Normal") {
            loaiphongthue = false;
        }
        if (loaiphongthue == true) {
            alert("Ban da nhap sai. Vui long nhap lai");
        }
    } while (loaiphongthue);
    alert("Ho va ten: " + memory + "\n" +
        "So CMND: " + id + "\n" +
        "Ngay Sinh: " + birthday + "\n" +
        "Email: " + email + "\n" +
        "Dia chi: " + temp + "\n" +
        "Loai khach hang: " + kindCustomer + "\n" +
        "Giam gia: " + discount + "\n" +
        "So luong di kem: " + soluongdikem + "\n" +
        "So ngay thue: " + rentDay + "\n" +
        "Loai dich vu: " + kindService + "\n" +
        "Loai phong: " + kindRoom + "\n");
</script>
</body>
</html>
</body>
</html>